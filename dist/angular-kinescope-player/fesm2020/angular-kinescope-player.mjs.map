{"version":3,"file":"angular-kinescope-player.mjs","sources":["../../../projects/angular-kinescope-player/src/lib/constants/player-latest.conts.ts","../../../projects/angular-kinescope-player/src/lib/constants/video-host.const.ts","../../../projects/angular-kinescope-player/src/lib/constants/kinescope-player-event.enum.ts","../../../projects/angular-kinescope-player/src/lib/constants/nodejs-id.consts.ts","../../../projects/angular-kinescope-player/src/lib/constants/kinescope-default-config.ts","../../../projects/angular-kinescope-player/src/lib/components/kinescope-loader.component.ts","../../../projects/angular-kinescope-player/src/lib/components/kinescope-player.component.ts","../../../projects/angular-kinescope-player/src/angular-kinescope-player.ts"],"sourcesContent":["export const PLAYER_LATEST = 'https://player.kinescope.io/latest/iframe.player.js';\n","export const VIDEO_HOST = 'https://kinescope.io/embed/';\n","export enum KinescopePlayerEvent {\n  Ready,\n  QualityChanged,\n  AutoQualityChanged,\n  SeekChapter,\n  SizeChanged,\n  Play,\n  Playing,\n  Waiting,\n  Pause,\n  Ended,\n  TimeUpdate,\n  Progress,\n  DurationChange,\n  VolumeChange,\n  PlaybackRateChange,\n  Seeking,\n  FullscreenChange,\n  CallAction,\n  CallBookmark,\n  Error,\n  Destroy,\n}\n","export const NODE_JS_ID = '__kinescope_player_angular';\n","import { KinescopePlayerConfig } from '../interfaces';\n\nexport const KINESCOPE_DEFAULT_CONFIG = {\n  width: '100%',\n  height: '100%',\n  autoPause: true,\n  localStorage: true,\n  playsInline: true,\n} as KinescopePlayerConfig;\n","import { Component, EventEmitter, inject, OnInit, Output } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\nimport { KinescopeCreateOptions, KinescopePlayer } from '../interfaces';\nimport { NODE_JS_ID, PLAYER_LATEST } from '../constants';\n\ndeclare global {\n  interface Window {\n    Kinescope: {\n      IframePlayer: {\n        create: (id: string, options: KinescopeCreateOptions) => Promise<KinescopePlayer>;\n        version: string;\n      };\n    };\n  }\n}\n\n@Component({\n  selector: 'kinescope-loader',\n  template: '<ng-content></ng-content>',\n  standalone: true,\n})\nexport class KinescopeLoaderComponent implements OnInit {\n  @Output() onJSLoad = new EventEmitter<void>();\n  @Output() onJSLoadError = new EventEmitter<ErrorEvent>();\n\n  private document = inject(DOCUMENT);\n  private testLoadJS = (): boolean => !!this.document.getElementById(NODE_JS_ID);\n\n  ngOnInit(): void {\n    if (this.document.defaultView?.Kinescope?.IframePlayer) {\n      this.onJSLoad.emit();\n      return;\n    }\n\n    if (this.testLoadJS()) {\n      this.loadJsNotLoad();\n      return;\n    }\n    this.loadScript(PLAYER_LATEST, NODE_JS_ID)\n      .then(success => success && this.onJSLoad.emit())\n      .catch(e => this.onJSLoadError.emit(e));\n  }\n\n  private loadJsNotLoad(): void {\n    const el = this.document.getElementById(NODE_JS_ID);\n    if (el) {\n      el.addEventListener('load', () => this.loadJs());\n    }\n  };\n\n  private loadJs(): void {\n    const el = this.document.getElementById(NODE_JS_ID);\n    if (el) {\n      el.removeEventListener('load', () => this.loadJs());\n    }\n    this.onJSLoad.emit();\n  };\n\n  private loadScript(src: string, id: string): Promise<boolean | ErrorEvent> {\n    return new Promise<boolean>((resolve, reject) => {\n      const script = this.document.createElement('script');\n      script.id = id;\n      script.src = src;\n      script.addEventListener('load', () => resolve(true));\n      script.addEventListener('error', e => reject(e));\n      this.document.body.appendChild(script);\n    });\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  inject,\n  Input,\n  OnDestroy,\n  Renderer2,\n  ViewChild,\n} from '@angular/core';\nimport { CommonModule, DOCUMENT } from '@angular/common';\nimport { clone, isEqual } from 'lodash';\n\nimport {\n  EventCallActionTypes,\n  EventCallBookmarkTypes,\n  EventDurationChangeTypes,\n  EventErrorTypes,\n  EventFullscreenChangeTypes,\n  EventPlaybackRateChangeTypes,\n  EventProgressTypes,\n  EventQualityChangedTypes,\n  EventReadyTypes,\n  EventSeekChapterTypes,\n  EventSizeChangedTypes,\n  EventTimeUpdateTypes,\n  EventVolumeChangeTypes,\n  KinescopeCreateOptions,\n  KinescopePlayer,\n  KinescopePlayerConfig,\n  PlaylistItemOptions,\n  VideoQuality,\n  ActionType,\n} from '../interfaces';\nimport { KINESCOPE_DEFAULT_CONFIG, KinescopePlayerEvent, VIDEO_HOST } from '../constants';\n\nimport { KinescopeLoaderComponent } from './kinescope-loader.component';\n\nlet index = 1;\n\ntype EventListTypes = [KinescopePlayerEvent, (v?: ActionType) => Promise<void> | void][];\n\n@Component({\n  selector: 'kinescope-player',\n  template: `\n    <kinescope-loader (onJSLoad)=\"handleJSLoad()\" (onJSLoadError)=\"_config.onJSLoadError?.()\">\n      <span #parentsRef [ngClass]=\"_config.className\" [ngStyle]=\"_config.style\"></span>\n    </kinescope-loader>\n  `,\n  standalone: true,\n  imports: [KinescopeLoaderComponent, CommonModule],\n})\nexport class KinescopePlayerComponent implements OnDestroy {\n  @Input() set config(config: KinescopePlayerConfig) {\n    if (this._config) {\n      const previous = clone(this._config);\n      this._config = Object.assign({ ...KINESCOPE_DEFAULT_CONFIG }, config);\n      this.shouldPlayerUpdate(previous);\n      this.shouldPlaylistUpdate(previous);\n    } else {\n      this._config = Object.assign({ ...KINESCOPE_DEFAULT_CONFIG }, config);\n    }\n  }\n\n  _config: KinescopePlayerConfig;\n\n  private document = inject(DOCUMENT);\n  private renderer2 = inject(Renderer2);\n  private playerLoad = false;\n  private player: KinescopePlayer;\n  private getNextPlayerId = (): string => `__kinescope_player_${this.getNextIndex()}`;\n  private getNextIndex = (): number => index++;\n\n  @ViewChild('parentsRef', { read: ElementRef }) parentsRef: ElementRef<unknown>;\n\n  isPaused = (): Promise<boolean> => this.player?.isPaused() || Promise.reject(null);\n  isEnded = (): Promise<boolean> => this.player?.isEnded() || Promise.reject(null);\n  play = (): Promise<void> => this.player?.play() || Promise.reject(null);\n  pause = (): Promise<boolean> => this.player?.pause() || Promise.reject(null);\n  stop = (): Promise<void> => this.player?.stop() || Promise.reject(null);\n  getCurrentTime = (): Promise<number> => this.player?.getCurrentTime() || Promise.reject(null);\n  getDuration = (): Promise<number> => this.player?.getDuration() || Promise.reject(null);\n  seekTo = (time: number): Promise<void> => this.player?.seekTo(time) || Promise.reject(null);\n  isMuted = (): Promise<boolean> => this.player?.isMuted() || Promise.reject(null);\n  mute = (): Promise<void> => this.player?.mute() || Promise.reject(null);\n  unmute = (): Promise<void> => this.player?.unmute() || Promise.reject(null);\n  getVolume = (): Promise<number> => this.player?.getVolume() || Promise.reject(null);\n  setVolume = (value: number): Promise<void> => this.player?.setVolume(value) || Promise.reject(null);\n  getPlaybackRate = (): Promise<number> => this.player?.getPlaybackRate() || Promise.reject(null);\n  setPlaybackRate = (value: number): Promise<void> => this.player?.setPlaybackRate(value) || Promise.reject(null);\n  getVideoQualityList = (): Promise<VideoQuality[]> => this.player?.getVideoQualityList() || Promise.reject(null);\n  getCurrentVideoQuality = (): Promise<VideoQuality> => this.player?.getCurrentVideoQuality() || Promise.reject(null);\n  setVideoQuality = (quality: VideoQuality): Promise<void> => this.player?.setVideoQuality(quality) || Promise.reject(null);\n  enableTextTrack = (lang: string): Promise<void> => this.player?.enableTextTrack(lang) || Promise.reject(null);\n  disableTextTrack = (): Promise<void> => this.player?.disableTextTrack() || Promise.reject(null);\n  closeCTA = (): Promise<void> => this.player?.closeCTA() || Promise.reject(null);\n  isFullscreen = (): Promise<boolean> => this.player?.isFullscreen() || Promise.reject(null);\n  setFullscreen = (fullscreen: boolean): Promise<void> => this.player?.setFullscreen(fullscreen) || Promise.reject(null);\n\n  async handleJSLoad(): Promise<void> {\n    if (this.playerLoad) {\n      return;\n    }\n    this.playerLoad = true;\n    this._config.onJSLoad?.();\n    debugger;\n    await this.create();\n  };\n\n  ngOnDestroy(): void {\n    this._config?.onDestroy?.();\n  }\n\n  private async shouldPlayerUpdate(prevProps: KinescopePlayerConfig): Promise<void> {\n    const {\n      videoId,\n      query,\n      width,\n      height,\n      autoPause,\n      autoPlay,\n      loop,\n      muted,\n      playsInline,\n      language,\n      controls,\n      mainPlayButton,\n      playbackRateButton,\n      watermark,\n      localStorage,\n    } = this._config;\n\n    if (muted !== prevProps.muted) {\n      muted ? await this.mute() : await this.unmute();\n    }\n\n    if (\n      videoId !== prevProps.videoId ||\n      !isEqual(query, prevProps.query) ||\n      width !== prevProps.width ||\n      height !== prevProps.height ||\n      autoPause !== prevProps.autoPause ||\n      autoPlay !== prevProps.autoPlay ||\n      loop !== prevProps.loop ||\n      playsInline !== prevProps.playsInline ||\n      language !== prevProps.language ||\n      controls !== prevProps.controls ||\n      mainPlayButton !== prevProps.mainPlayButton ||\n      playbackRateButton !== prevProps.playbackRateButton ||\n      !isEqual(watermark, prevProps.watermark) ||\n      !isEqual(localStorage, prevProps.localStorage)\n    ) {\n      await this.create();\n    }\n  };\n\n  private async shouldPlaylistUpdate(prevProps: KinescopePlayerConfig): Promise<void> {\n    const { title, subtitle, poster, chapters, vtt, bookmarks, actions, drmAuthToken } = this._config;\n\n    if (title !== prevProps.title) {\n      await this.updateTitleOptions();\n    }\n\n    if (poster !== prevProps.poster) {\n      await this.updatePosterOptions();\n    }\n\n    if (subtitle !== prevProps.subtitle) {\n      await this.updateSubtitleOptions();\n    }\n\n    if (drmAuthToken !== prevProps.drmAuthToken) {\n      await this.updateDrmAuthTokenOptions();\n    }\n\n    if (!isEqual(chapters, prevProps.chapters)) {\n      await this.updateChaptersOptions();\n    }\n\n    if (!isEqual(vtt, prevProps.vtt)) {\n      await this.updateVttOptions();\n    }\n\n    if (!isEqual(bookmarks, prevProps.bookmarks)) {\n      await this.updateBookmarksOptions();\n    }\n\n    if (!isEqual(actions, prevProps.actions)) {\n      await this.updateActionsOptions();\n    }\n  };\n\n  private async updateTitleOptions(): Promise<void> {\n    await this.setPlaylistItemOptions({ title: this._config.title });\n  };\n\n  private async updatePosterOptions(): Promise<void> {\n    await this.setPlaylistItemOptions({ poster: this._config.poster });\n  };\n\n  private async updateSubtitleOptions(): Promise<void> {\n    await this.setPlaylistItemOptions({ subtitle: this._config.subtitle });\n  };\n\n  private async updateDrmAuthTokenOptions(): Promise<void> {\n    await this.setPlaylistItemOptions({ drm: { auth: { token: this._config.drmAuthToken } } });\n  };\n\n  private async updateChaptersOptions(): Promise<void> {\n    await this.setPlaylistItemOptions({ chapters: this._config.chapters });\n  };\n\n  private async updateVttOptions(): Promise<void> {\n    await this.setPlaylistItemOptions({ vtt: this._config.vtt });\n  };\n\n  private async updateBookmarksOptions(): Promise<void> {\n    await this.setPlaylistItemOptions({ bookmarks: this._config.bookmarks });\n  };\n\n  private async updateActionsOptions(): Promise<void> {\n    await this.setPlaylistItemOptions({ actions: this._config.actions });\n  };\n\n  private async readyPlaylistOptions(): Promise<void> {\n    const { title, subtitle, poster, chapters, vtt, bookmarks, actions, drmAuthToken } = this._config;\n    const options: PlaylistItemOptions = {};\n\n    options.title = title ?? undefined;\n    options.subtitle = subtitle ?? undefined;\n    options.poster = poster ?? undefined;\n    options.chapters = chapters ?? undefined;\n    options.vtt = vtt ?? undefined;\n    options.bookmarks = bookmarks ?? undefined;\n    options.actions = actions ?? undefined;\n    options.drm = drmAuthToken ? { auth: { token: drmAuthToken } } : undefined;\n\n    await this.setPlaylistItemOptions(options);\n  };\n\n  private async create(): Promise<void> {\n    await this.destroy();\n\n    const parentsRef = this.parentsRef.nativeElement;\n    if (!this.playerLoad || !parentsRef) {\n      return;\n    }\n\n    /* create playerId */\n    this.renderer2.setProperty(parentsRef, 'textContent', '');\n    const playerId = this.getNextPlayerId();\n    const playerDiv = this.renderer2.createElement('div');\n    this.renderer2.setAttribute(playerDiv, 'id', playerId);\n    this.renderer2.appendChild(parentsRef, playerDiv);\n    /* fast re create player fix */\n    await new Promise(resolve => setTimeout(resolve, 0));\n    if (!this.document.getElementById(playerId)) {\n      return;\n    }\n\n    this.player = await this.createPlayer(playerId);\n    debugger;\n    this.getEventList().forEach(event => this.player?.on(event[0], event[1]));\n  };\n\n  private async destroy(): Promise<void> {\n    if (!this.player) {\n      return;\n    }\n    await this.player.destroy();\n    this.player = null;\n  };\n\n  private getEventList(): EventListTypes {\n    const events = this.player?.Events;\n    if (!events) {\n      return [];\n    }\n    return [\n      [events.Ready, (event: ActionType) => this.handleEventReady(event)],\n      [events.Destroy, () => this._config?.onDestroy?.()],\n      [events.Play, () => this._config?.onPlay?.()],\n      [events.Playing, () => this._config?.onPlaying?.()],\n      [events.Waiting, () => this._config?.onWaiting?.()],\n      [events.Pause, () => this._config?.onPause?.()],\n      [events.Ended, () => this._config?.onEnded?.()],\n      [events.QualityChanged, (event: ActionType) => this._config?.onQualityChanged?.(event.data as EventQualityChangedTypes)],\n      [events.AutoQualityChanged, (event: ActionType) => this._config?.onAutoQualityChanged?.(event.data as EventQualityChangedTypes)],\n      [events.SeekChapter, (event: ActionType) => this._config?.onSeekChapter?.(event.data as EventSeekChapterTypes)],\n      [events.SizeChanged, (event: ActionType) => this._config?.onSizeChanged?.(event.data as EventSizeChangedTypes)],\n      [events.TimeUpdate, (event: ActionType) => this._config?.onTimeUpdate?.(event.data as EventTimeUpdateTypes)],\n      [events.Progress, (event: ActionType) => this._config?.onProgress?.(event.data as EventProgressTypes)],\n      [events.DurationChange, (event: ActionType) => this._config?.onDurationChange?.(event.data as EventDurationChangeTypes)],\n      [events.VolumeChange, (event: ActionType) => this._config?.onVolumeChange?.(event.data as EventVolumeChangeTypes)],\n      [events.PlaybackRateChange, (event: ActionType) => this._config?.onPlaybackRateChange?.(event.data as EventPlaybackRateChangeTypes)],\n      [events.Seeking, () => this._config?.onSeeking?.()],\n      [events.FullscreenChange, (event: ActionType) => this._config?.onFullscreenChange?.(event.data as EventFullscreenChangeTypes)],\n      [events.CallAction, (event: ActionType) => this._config?.onCallAction?.(event.data as EventCallActionTypes)],\n      [events.CallBookmark, (event: ActionType) => this._config?.onCallBookmark?.(event.data as EventCallBookmarkTypes)],\n      [events.Error, (event: ActionType) => this._config?.onError?.(event.data as EventErrorTypes)],\n    ];\n  };\n\n  private getQueryParams(): [string, string][] {\n    const params: [string, string][] = [];\n    if (this._config.query?.duration) {\n      params.push(['duration', this._config.query.duration.toString()]);\n    }\n    if (this._config.query?.seek) {\n      params.push(['seek', this._config.query.seek.toString()]);\n    }\n    return params;\n  };\n\n  private makeURL(url: string): string {\n    const _url = new URL(url);\n    this.getQueryParams().forEach(function (params) {\n      _url.searchParams.append(params[0], params[1]);\n    });\n    return _url.toString();\n  };\n\n  private getIFrameUrl(): string {\n    return this.makeURL(VIDEO_HOST + this._config.videoId);\n  };\n\n  private createPlayer(playerId: string): Promise<KinescopePlayer> {\n    const {\n      title,\n      subtitle,\n      poster,\n      chapters,\n      vtt,\n      externalId,\n      drmAuthToken,\n      width,\n      height,\n      autoPause,\n      autoPlay,\n      loop,\n      muted,\n      playsInline,\n      language,\n      controls,\n      mainPlayButton,\n      playbackRateButton,\n      bookmarks,\n      actions,\n      watermark,\n      localStorage,\n    } = this._config;\n\n    const options: KinescopeCreateOptions = {\n      url: this.getIFrameUrl(),\n      size: { width: width, height: height },\n      behaviour: {\n        autoPause: autoPause,\n        autoPlay: autoPlay,\n        loop: loop,\n        muted: muted,\n        playsInline: playsInline,\n        localStorage: localStorage,\n      },\n      playlist: [\n        {\n          title: title,\n          subtitle: subtitle,\n          poster: poster,\n          chapters: chapters,\n          vtt: vtt,\n          bookmarks: bookmarks,\n          actions: actions,\n          drm: {\n            auth: {\n              token: drmAuthToken,\n            },\n          },\n        },\n      ],\n      ui: {\n        language: language,\n        controls: controls,\n        mainPlayButton: mainPlayButton,\n        playbackRateButton: playbackRateButton,\n        watermark: watermark,\n      },\n      settings: {\n        externalId: externalId,\n      },\n    };\n\n    return window.Kinescope.IframePlayer.create(playerId, options);\n  };\n\n  private async setPlaylistItemOptions(options: PlaylistItemOptions): Promise<void> {\n    if (!this.player) {\n      return Promise.resolve();\n    }\n    await this.player.setPlaylistItemOptions(options);\n  };\n\n  private async handleEventReady(event: ActionType): Promise<void> {\n    await this.readyPlaylistOptions();\n    this._config?.onReady?.(event.data as EventReadyTypes);\n  };\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}